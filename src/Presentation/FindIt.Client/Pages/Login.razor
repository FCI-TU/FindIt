@page "/login"

@inject NavigationManager NavigationManager

<div class="login-container d-flex flex-lg-column align-items-center text-light p-2 align-self-center">
	<EditForm Model="@UserData" OnValidSubmit="@loginUser" class="w-75 mx-auto">
		<DataAnnotationsValidator />

		<div class="main-container flex-column flex-lg-row d-flex p-4 justify-content-evenly align-items-center position-relative z-2 rounded-5">
			<div class="login-card d-flex justify-content-center">
				<img src="/images/login_card.png" alt="Store Image" class="store-image w-50" />
			</div>

			<div class="login-form d-flex flex-column gap-3 text-center">
				<div class="form-header">
					<h2 class="fw-bold text-white">Join Us Today!</h2>
				</div>

				<div class="d-flex flex-column">
					<div class="input-wrapper fs-5 d-flex py-2 px-3 rounded-4">
						<input placeholder="Email" @bind="@UserData.Email" type="email" />
						<Icon Color="IconColor.Secondary" Size="IconSize.x3" Name="IconName.EnvelopeFill" />
					</div>
					<ValidationMessage For="@(() => UserData.Email)" class="fw-bold text-danger" style="font-size: 0.9rem" />
				</div>

				<div class="d-flex flex-column">
					<div class="input-wrapper fs-5 d-flex py-2 px-3 rounded-4">
						<input placeholder="Password" @bind="@UserData.Password" type="password" />
						<Icon Color="IconColor.Secondary" Size="IconSize.x3" Name="IconName.PassFill" />
					</div>
					<ValidationMessage For="@(() => UserData.Password)" class="fw-bold text-danger" style="font-size: 0.9rem" />
				</div>

				<button class="submit-button py-2 rounded-5 p-3 fs-5 mt-4 text-light border-0">SIGN IN</button>
			</div>
		</div>
	</EditForm>
</div>


@code {
	private readonly RegisterRequest UserData = new();

	async Task loginUser()
	{
		Console.WriteLine("Signed in!");
	}
	// 	var user = await AuthenticationService.loginAsync(UserData);

	// 	if (user != null)
	// 	{
	// 		await LocalStorage.SetItemAsync("AuthenticationToken", user.Token);

	// 		NavigationManager.NavigateTo("/");

	// 		ToastService.ShowSuccess("Account created successfully!");
	// 	}
	// 	else
	// 	{
	// 		ToastService.ShowError("Failed to create account!");
	// 	}
	// }
}
